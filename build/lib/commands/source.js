"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _baseDriver = require("@appium/base-driver");

var _privateapis = _interopRequireDefault(require("@stdspa/stdspalinux_temp/dist/privateapis"));

const commands = {};

commands.getPageSource = async function getPageSource(opts = {}) {
  _privateapis.default.a11y_clear_cache();

  if (!this._validateOrUpdateWinInfo()) {
    throw new _baseDriver.errors.NoSuchWindowError(`the selected window doesn't exist`);
  }

  const {
    pid,
    name
  } = this._win;
  return _privateapis.default.a11y_getWindowUiHierachy(name, pid);
};

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9zb3VyY2UuanMiXSwibmFtZXMiOlsiY29tbWFuZHMiLCJnZXRQYWdlU291cmNlIiwib3B0cyIsImFwaXMiLCJhMTF5X2NsZWFyX2NhY2hlIiwiX3ZhbGlkYXRlT3JVcGRhdGVXaW5JbmZvIiwiZXJyb3JzIiwiTm9TdWNoV2luZG93RXJyb3IiLCJwaWQiLCJuYW1lIiwiX3dpbiIsImExMXlfZ2V0V2luZG93VWlIaWVyYWNoeSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxRQUFRLEdBQUcsRUFBakI7O0FBRUFBLFFBQVEsQ0FBQ0MsYUFBVCxHQUF5QixlQUFlQSxhQUFmLENBQThCQyxJQUFJLEdBQUcsRUFBckMsRUFBeUM7QUFDaEVDLHVCQUFLQyxnQkFBTDs7QUFDQSxNQUFJLENBQUMsS0FBS0Msd0JBQUwsRUFBTCxFQUFzQztBQUNwQyxVQUFNLElBQUlDLG1CQUFPQyxpQkFBWCxDQUE4QixtQ0FBOUIsQ0FBTjtBQUNEOztBQUNELFFBQU07QUFBQ0MsSUFBQUEsR0FBRDtBQUFNQyxJQUFBQTtBQUFOLE1BQWMsS0FBS0MsSUFBekI7QUFDQSxTQUFPUCxxQkFBS1Esd0JBQUwsQ0FBOEJGLElBQTlCLEVBQW9DRCxHQUFwQyxDQUFQO0FBQ0QsQ0FQRDs7ZUFTZVIsUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGVycm9ycyB9IGZyb20gJ0BhcHBpdW0vYmFzZS1kcml2ZXInO1xuaW1wb3J0IGFwaXMgZnJvbSAnQHN0ZHNwYS9zdGRzcGFsaW51eF90ZW1wL2Rpc3QvcHJpdmF0ZWFwaXMnO1xuXG5jb25zdCBjb21tYW5kcyA9IHt9O1xuXG5jb21tYW5kcy5nZXRQYWdlU291cmNlID0gYXN5bmMgZnVuY3Rpb24gZ2V0UGFnZVNvdXJjZSAob3B0cyA9IHt9KSB7XG4gIGFwaXMuYTExeV9jbGVhcl9jYWNoZSgpO1xuICBpZiAoIXRoaXMuX3ZhbGlkYXRlT3JVcGRhdGVXaW5JbmZvKCkpIHtcbiAgICB0aHJvdyBuZXcgZXJyb3JzLk5vU3VjaFdpbmRvd0Vycm9yKGB0aGUgc2VsZWN0ZWQgd2luZG93IGRvZXNuJ3QgZXhpc3RgKTtcbiAgfVxuICBjb25zdCB7cGlkLCBuYW1lfSA9IHRoaXMuX3dpbjtcbiAgcmV0dXJuIGFwaXMuYTExeV9nZXRXaW5kb3dVaUhpZXJhY2h5KG5hbWUsIHBpZCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb21tYW5kcztcbiJdLCJmaWxlIjoibGliL2NvbW1hbmRzL3NvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
